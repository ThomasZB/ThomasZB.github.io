---
title: æœºå™¨äººä¸­å¸¸ç”¨çš„åæ ‡å˜æ¢
date: 2022-09-21 14:25:17
tags:
categories: æœºå™¨äºº
plugins:
  - mathjax
---

<!-- è®©è¡¨æ ¼å±…ä¸­æ˜¾ç¤ºçš„é£æ ¼ -->

<style>
.center 
{
  width: auto;
  display: table;
  margin-left: auto;
  margin-right: auto;
}
</style>

![110025601_p0](https://pic-1302177449.cos.ap-chongqing.myqcloud.com/blog_pic110025601_p0.png)\

<p align="center">
    è¿™ç¯‡åšå®¢å¤ªæ¯ç‡¥äº†ï¼Œä¸æƒ³å†™ï¼Œæ”¾ä¸€å¼ yuiçš„ç…§ç‰‡ç¼“è§£æ¯ç‡¥å§ğŸ˜Š
</p>
<!--more-->

# æœºå™¨äººçš„ä½å§¿

> å…¶å®è¿™ç¯‡åšå®¢è¦è®²æ¸…æ¥šæœ€å¥½ç»“åˆå›¾ç‰‡è®²è§£ï¼Œä½†ä½œè€…ç›®å‰æ²¡æœ‰åˆé€‚çš„ç”»3Dåæ ‡ç³»çš„å·¥å…·ï¼Œæ‰€ä»¥è¿™é‡Œå¾ˆå¤šå…³ç³»éƒ½æ˜¯ç”¨æ–‡å­—çš„æè¿°ã€‚è¿™é‡Œè¿˜ç¼ºå°‘éƒ¨åˆ†çš„æ•°å­¦æ¨å¯¼ï¼Œå¦‚æœ‰éœ€è¦çš„æœ‹å‹å¯ä»¥çœ‹æœºå™¨äººå­¦å¯¼è®ºçš„ç¬¬äºŒç« ï¼ˆä¸ªäººæ„Ÿè§‰è®²çš„æ¯”è§†è§‰SLAM14è®²æ¸…æ¥šï¼‰ã€‚

æˆ‘ä»¬æƒ³è¦äº†è§£æœºå™¨äººåœ¨ç©ºé—´ä¸­çš„ä½ç½®ï¼Œé€šå¸¸ç»™å®šå‚è€ƒåæ ‡ç³»ï¼Œä»¥åŠæœºå™¨äººä½ç½®$x,y,z$å³å¯ã€‚å½“ç„¶ï¼Œè¿™æ˜¯ä¸è€ƒè™‘æœºå™¨äººå§¿æ€çš„æƒ…å†µä¸‹ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœåªçŸ¥é“æœºå™¨äººçš„ä½ç½®è€Œä¸çŸ¥é“å§¿æ€ï¼ŒåŸºæœ¬æ— æ³•æ§åˆ¶æœºå™¨äººã€‚åœ¨2Dä¸‹ï¼Œé€šå¸¸ç”¨$x,y,\theta$æ¥è¡¨ç¤ºæœºå™¨äººçš„ä½ç½®åŠ å§¿æ€ã€‚**æœºå™¨äººåœ¨ç©ºé—´ä¸­å…·ä½“çš„ä½ç½®åŠ å§¿æ€é€šå¸¸ç”¨ä½å§¿æ¥è¡¨ç¤º**ã€‚ä¹Ÿå°±æ˜¯
$$
Pose=Translation+Rotation
$$
ä½ç½®ï¼ˆTranslationï¼‰è¡¨ç¤ºé€šå¸¸å¾ˆç®€å•ï¼Œä¸‹é¢æˆ‘ç›´æ¥è®²è§£ä¸€ä¸‹å§¿æ€çš„è¡¨ç¤ºã€‚

## æ—‹è½¬çŸ©é˜µ

> ä¸‰ç»´ä¸‹å§¿æ€åˆå¾ˆå¤šç§è¡¨ç¤ºæ–¹å¼ï¼Œè¿™é‡Œå…ˆä»‹ç»æ—‹è½¬çŸ©é˜µï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼Œå…¶ä»–çš„æ–¹å¼åœ¨åé¢ä»‹ç»ã€‚

åœ¨ä¸‰ç»´ç©ºé—´ä¸‹ï¼Œä¸ºäº†æ›´ç›´è§‚çš„ç†è§£ç‰©ä½“çš„å§¿æ€ï¼Œæˆ‘ä»¬åœ¨æœºå™¨äººèº«ä¸Šæ”¾ä¸€ä¸ªå³æ‰‹åæ ‡ç³»ï¼ˆä¸‰è½´æ­£äº¤ï¼‰ï¼Œä¾¿äºè§‚å¯Ÿæœºå™¨äººçš„å§¿æ€å˜æ¢ã€‚ç°åœ¨çš„é—®é¢˜å˜æˆäº†`å¦‚ä½•è¡¨ç¤ºè¿™ä¸ªåæ ‡ç³»çš„å§¿æ€`ã€‚

ç”±äºæˆ‘è¿™é‡Œä¸è€ƒè™‘ä½ç½®ï¼Œé‚£ä¹ˆï¼Œæˆ‘ç›´æ¥å°†åæ ‡ç³»æ”¾åˆ°åŸç‚¹ä¾¿äºè§‚å¯Ÿã€‚å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå¦‚æœåˆ†åˆ«å°†**ä¸‰ä¸ªè½´å¯¹åº”çš„å‘é‡**å†™ä¸‹æ¥ï¼Œä¾¿èƒ½å”¯ä¸€è¡¨ç¤ºä¸€ä¸ªå§¿æ€ã€‚æŠŠè¿™ä¸‰ä¸ªè½´çš„åæ ‡ï¼ˆæŒ‰åˆ—å‘é‡ï¼‰å†™æˆçŸ©é˜µï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æ—‹è½¬çŸ©é˜µï¼š
$$
R=(\overrightarrow{x},\overrightarrow{y},\overrightarrow{z})=
\begin{aligned}
    \begin{bmatrix}
       x_1 & y_1 & z_1\\
       x_2 & y_2 & z_2\\
       x_3 & y_3 & z_3
    \end{bmatrix}
\end{aligned}
$$
æ ¹æ®ä¸Šè¿°æ—‹è½¬çŸ©é˜µçš„å®šä¹‰ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°æ—‹è½¬çŸ©é˜µçš„å‡ ä¸ªæ€§è´¨ï¼š

* æ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µ
* å¦‚æœ$^A_BR$è¡¨ç¤ºAå‚è€ƒç³»ä¸‹Bçš„æ—‹è½¬çŸ©é˜µï¼Œé‚£ä¹ˆBå‚è€ƒç³»ä¸‹Açš„æ—‹è½¬çŸ©é˜µä¸ºï¼š$^B_AR=^A_BR^T$

> å¯¹äºä¸Šè¿°ç¬¬äºŒä¸ªæ€§è´¨ï¼Œå¦‚æœè¦è¯æ˜çš„è¯ï¼Œå¯ä»¥å°†RçŸ©é˜µå†™åšå†…ç§¯å½¢å¼ï¼Œæ¯”å¦‚$x_1=X_A\cdot X_B=|X_A|\cdot|X_B|\cos<X_A,X_B>$ï¼Œä¹Ÿå°±æ˜¯åæ ‡ç³»Båœ¨åæ ‡ç³»Aä¸‹çš„æŠ•å½±ã€‚å¦‚æœå°†çŸ©é˜µä¸­æ‰€æœ‰å…ƒç´ å†™æˆä¸Šè¿°å½¢å¼ï¼Œå¯ä»¥å‘ç°çŸ©é˜µçš„è¡Œå‘é‡ä¸ºBåœ¨Aåæ ‡ç³»ä¸‹$\overrightarrow{x},\overrightarrow{y},\overrightarrow{z}$çš„æŠ•å½±ï¼Œä¹Ÿå³æ€§è´¨2æ‰€è¡¨è¾¾çš„å†…å®¹ã€‚

é¡ºä¾¿è¡¥å……ä¸€ä¸‹ï¼ŒäºŒç»´å³æ‰‹åæ ‡ç³»ä¸‹$\theta$è§’å§¿æ€å¯¹åº”çš„æ—‹è½¬çŸ©é˜µä¸ºï¼š
$$
R=
\begin{aligned}
    \begin{bmatrix}
       cos\theta & -sin\theta\\
       sin\theta & cos\theta\\
    \end{bmatrix}
\end{aligned}
$$

å¯¹åº”çš„ï¼Œç»•zè½´æ—‹è½¬$\theta$å¯¹åº”çš„çŸ©é˜µä¸ºï¼š
$$
R=\begin{aligned}
    \begin{bmatrix}
       cos\theta & -sin\theta & 0\\
       sin\theta & cos\theta & 0\\
       0&0&1
    \end{bmatrix}
\end{aligned}
$$

## ä½å§¿

çŸ¥é“äº†æ—‹è½¬çš„è¡¨ç¤ºï¼Œæˆ‘ä»¬å°±å¯ä»¥è¡¨ç¤ºæœºå™¨äººçš„ä½å§¿äº†ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æŠŠåæ ‡ç³»å†™åœ¨å·¦è¾¹ï¼Œ**å‚è€ƒåæ ‡ç³»å†™åœ¨å·¦ä¸Š**ï¼Œè€ŒåŸç‚¹å†™åœ¨å³ä¸‹è§’ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦è¡¨ç¤ºAåæ ‡ç³»ä¸‹ï¼ŒBçš„ä½å§¿ï¼Œå°±å¯ä»¥ï¼š
$$
\left\{^A_BR,^AP_{BORG}\right\}
$$
å…¶ä¸­$^A_BR$è¡¨ç¤ºBçš„å§¿æ€ï¼Œ$^AP_{BORG}$è¡¨ç¤ºBåŸç‚¹çš„åæ ‡ã€‚

> è¿™æ ·çš„è¡¨ç¤ºåœ¨è®¡ç®—æ—¶ä¼šå¸¦æ¥å¾ˆå¤§çš„æ–¹ä¾¿ï¼Œåé¢å°†æ˜ å°„çš„æ—¶å€™å°±èƒ½ä½“ä¼šåˆ°äº†ï¼Œå­¦ä¼šè¿™ç§è¡¨è¾¾åï¼Œåæ ‡å˜æ¢æœ‰æ‰‹å°±è¡ŒğŸ˜

## æ˜ å°„

>è¿™é‡Œæœ‰äº›åœ°æ–¹ä¹Ÿå«åæ ‡å˜æ¢ï¼Œä»¥å‰æˆ‘åˆšå­¦çš„æ—¶å€™ï¼Œæ€»æ˜¯æŠŠç®—å­å’Œæ˜ å°„æ··ç€ç”¨ï¼Œè™½ç„¶å¾ˆå¤šæ—¶å€™è¡¨è¾¾å¼é€šç”¨ï¼Œä½†æœ€å¥½è¿˜æ˜¯åŒºåˆ†ä¸€ä¸‹ã€‚åé¢çš„ä»‹ç»ä¸­ï¼Œæ³¨æ„åŒºåˆ†ç‚¹å’Œåæ ‡ç³»ï¼Œç‚¹æ˜¯ä¸å¸¦å§¿æ€çš„ï¼Œåæ ‡ç³»æ˜¯å¸¦å§¿æ€çš„ï¼Œä¸¤è€…ææ··æ·†åé˜…è¯»èµ·æ¥å°±ä¸çŸ¥æ‰€äº‘äº†ã€‚

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨ä¸åŒåæ ‡ç³»ä¸‹è¡¨è¾¾åŒä¸€ä¸ªä¸œè¥¿ï¼Œæ¯”å¦‚çŸ¥é“å°è½¦åœ¨é‡Œç¨‹è®¡åæ ‡ç³»ä¸‹çš„ä½å§¿ï¼Œæƒ³è¦å¾—åˆ°å°è½¦åœ¨å…¨å±€åœ°å›¾åæ ‡ç³»ä¸‹çš„ä½å§¿ï¼Œå°±æ¶‰åŠåˆ°åæ ‡çš„è½¬æ¢ï¼Œå¯ä»¥è¯´æ˜¯ç»å¸¸éœ€è¦ç”¨åˆ°çš„ã€‚

å¯¹äº**åªæœ‰å¹³ç§»**çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨çŸ¢é‡ç›¸åŠ çš„æ–¹æ³•æ±‚æŸä¸ªç‚¹çš„åæ ‡ï¼Œæ¯”å¦‚ï¼Œå·²çŸ¥Pç‚¹åœ¨Båæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œä»¥åŠAåæ ‡ç³»åœ¨Båæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œæ±‚Pç‚¹åœ¨Aåæ ‡ç³»ä¸‹çš„åæ ‡å°±å¯ä»¥ï¼š
$$
^AP=^BP+^AP_{BORG}
$$
è€Œå¯¹äº**åªæœ‰æ—‹è½¬**ï¼Œå³å·²çŸ¥Pç‚¹åœ¨Båæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œä»¥åŠBåæ ‡ç³»åœ¨Aåæ ‡ç³»ä¸‹çš„æ—‹è½¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç‚¹åœ¨Aåæ ‡ç³»ä¸‹çš„æ—‹è½¬ï¼š
$$
^AP=^A_BR^BP
$$

ä¸Šè¿°è¡¨è¾¾å¼é€šè¿‡çº¿æ€§ä»£æ•°çš„çŸ¥è¯†å¾ˆå¥½ç†è§£ï¼Œç”±äº$^A_BR$çš„åˆ—å‘é‡æ˜¯Båæ ‡ç³»çš„åŸºå‘é‡ï¼Œä¸Šè¿°è¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ª**åæ ‡å˜æ¢å…¬å¼**ï¼š
$$
^AP=(\overrightarrow{e_1},\overrightarrow{e_2},\overrightarrow{e_3})\times\begin{aligned}\begin{bmatrix}x\\y\\z\end{bmatrix}\end{aligned}=x\cdot\overrightarrow{e_1}+y\cdot\overrightarrow{e_2}+z\cdot\overrightarrow{e_3}
$$
è€Œå¯¹äºæ—¢æœ‰æ—‹è½¬åˆæœ‰å¹³ç§»çš„å˜æ¢ï¼Œè¦è®¡ç®—Båæ ‡ç³»ä¸‹çš„Pç‚¹åœ¨Aåæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†ä¸¤æ­¥ï¼š`é¦–å…ˆé€šè¿‡åæ ‡å˜æ¢ï¼Œå¾—åˆ°å’ŒAç›¸åŒå§¿æ€çš„A'åæ ‡ç³»ä¸‹Pç‚¹çš„åæ ‡`ï¼Œè¿™æ—¶å€™A'åæ ‡ç³»å’ŒBåæ ‡ç³»åªæœ‰å¹³ç§»å…³ç³»äº†ï¼Œ`å†é€šè¿‡å¹³ç§»å¾—åˆ°På†Båæ ‡ç³»ä¸‹çš„åæ ‡`ã€‚å³ï¼š
$$
^AP=^A_BR^BP+^AP_{BORG}
$$

ä¸Šè¿°è®¡ç®—è™½ç„¶ç›´è§‚ï¼Œä½†æ˜¯åœ¨æ¨å¯¼è¡¨è¾¾å¼æ—¶ï¼Œæœ‰æ—¶å€™é¢å¯¹è¿ç»­å¤šä¸ªå˜æ¢ï¼ˆAåˆ°Bå†åˆ°Cå†åˆ°Dï¼‰ï¼Œå¦‚æœè¿˜ç”¨ä¸Šè¿°å˜æ¢çš„æ–¹å¼ï¼Œå†™å‡ºæ¥çš„è¡¨è¾¾å¼éå¸¸å¤æ‚ï¼Œäºæ˜¯äººä»¬å¼•å…¥ä¸€ç§å«**é½æ¬¡å˜æ¢çŸ©é˜µ**çš„æ¦‚å¿µï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š
$$
^A_BT=\left[\begin{array}{ccc:c}
&^A_BR&&^AP_{BORG}\\ \hdashline0&0&0&1 \end{array}\right]
$$


æœ‰äº†å…¶æ¬¡å˜æ¢çŸ©é˜µï¼Œæˆ‘ä»¬å¯ä»¥å°†åæ ‡å˜æ¢å†™æˆçŸ©é˜µå½¢å¼ï¼š
$$
\left[\begin{array}{1}^AP\\1\end{array}\right]=^A_BT^BP=\left[\begin{array}{ccc:c}
&^A_BR&&^AP_{BORG}\\ \hdashline0&0&0&1 \end{array}\right]\left[\begin{matrix}^BP\\1\end{matrix}\right]
$$
>è¿™é‡Œé¢æœ€å³è¾¹å†åæ ‡åº•ä¸‹å†åŠ ä¸€ä¸ª1çš„åæ ‡å«åšé½æ¬¡åæ ‡ï¼Œæœ‰æ—¶å€™ä»–å’Œæ™®é€šåæ ‡ä¼šæ··ç”¨ï¼Œéœ€è¦æ ¹æ®çŸ©é˜µè‡ªè¡Œè€ƒè™‘æ˜¯å¦åŠ 1

è¿™æ—¶å€™å¯¹äºå¤šä¸ªå˜æ¢ï¼Œæˆ‘ä»¬å°±ä¼šæƒŠå¥‡çš„å‘ç°ï¼Œå…¶**ä¸Šä¸‹æ ‡æ¶ˆé™¤**çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚å°†Cåæ ‡ç³»ä¸‹çš„ç‚¹På˜æ¢åˆ°Båæ ‡ç³»ä¸‹ï¼Œå†å˜æ¢åˆ°Aåæ ‡ç³»ä¸‹ï¼Œå°±æœ‰ï¼š
$$
^AP=^A_BT^B_CT^CP
$$
ç”±äº$^A_BT$å’Œ$^B_CT$éƒ½æ˜¯$(4\times4)$çš„çŸ©é˜µï¼Œæ ¹æ®çŸ©é˜µç›¸ä¹˜çš„ç»“åˆå¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åˆåœ¨ä¸€èµ·ï¼Œè€Œåˆåœ¨ä¸€èµ·çš„è¿™ä¸ªå˜æ¢æ˜¾ç„¶ç›´æ¥è¡¨ç¤ºäº†åæ ‡ç³»Cåˆ°Açš„é½æ¬¡å˜æ¢çŸ©é˜µï¼Œå³ï¼š
$$
^A_CT=^A_BT^B_CT=\left[\begin{array}{ccc:c}
&^A_BR^B_CR&&^A_BR^BP_{CORG}+{^A}P_{BORG}\\ \hdashline0&0&0&1 \end{array}\right]
$$
æˆ‘ä»¬å‘ç°ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹åƒ`å·¦è¾¹å·¦ä¸‹è§’çš„è§’æ ‡æŠŠå³ä¸Šè§’çš„è§’æ ‡æ¶ˆæ‰äº†`ï¼Œåœ¨å®é™…è®¡ç®—å„ä¸ªåæ ‡å˜æ¢æ—¶ï¼Œæˆ‘ä»¬å¸¸ç”¨è¿™ç§æ–¹æ³•æ¥å¸®åŠ©ç†è§£å’Œç®€åŒ–è®¡ç®—ï¼Œæ˜¯ä¸æ˜¯éå¸¸æ–¹ä¾¿ğŸ˜Šã€‚å¯¹äºå…¶æ¬¡å˜æ¢çŸ©é˜µï¼Œå…¶**é€†**è™½ç„¶ä¸å†ç­‰äºè½¬ç½®ï¼Œä½†ä¹Ÿæœ‰å¿«é€Ÿè®¡ç®—æ–¹æ³•ï¼š
$$
^B_AT=^A_BT^{-1}=\left[\begin{array}{ccc:c}
&^A_BR^{T}&&-^A_BR^T\times{^A}P_{BORG}\\ \hdashline0&0&0&1 \end{array}\right]
$$

## ç®—å­

> ç®€å•ç†è§£ï¼Œæ˜ å°„å°±æ˜¯ä¸€ä¸ªç‰©ä½“åœ¨ä¸åŒåæ ‡ç³»ä¹‹é—´è½¬æ¢ï¼Œè€Œç®—å­å°±æ˜¯åœ¨åŒä¸€ä¸ªåæ ‡ç³»ä¸‹ï¼Œå°†Pç‚¹ç§»åŠ¨åˆ°P'ç‚¹çš„å˜æ¢çŸ©é˜µã€‚

æœ‰æ—¶å€™æˆ‘ä»¬è¦ç§»åŠ¨ä¸€ä¸ªç‚¹ï¼Œæ¯”å¦‚è®©æ¿€å…‰ç‚¹äº‘æ—‹è½¬10Â°ï¼Œæˆ–è€…è®©æ¿€å…‰ç‚¹äº‘å‘å‰å¹³ç§»10cmï¼Œè¿™æ—¶å€™æ€ä¹ˆåšå‘¢ï¼Ÿè¿™æ ·çš„æ“ä½œå’Œå˜æ¢æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿç›´æ¥è¯´ç»“è®ºï¼š**åŒ…å«`æ—‹è½¬Rå’Œå¹³ç§»Qçš„å˜æ¢`ä¸æè¿°`æŸä¸ªåæ ‡ç³»æ—‹è½¬Rå¹¶å¹³ç§»Qçš„å˜æ¢`æ˜¯ç›¸åŒçš„**ã€‚

é¦–å…ˆè€ƒè™‘ç®€å•çš„å¹³ç§»ï¼Œå°†ç‚¹På‘å‰ç§»åŠ¨$x$ï¼Œå…¶ç§»åŠ¨åçš„åæ ‡ä¸ºï¼š
$$
P'=P+\begin{bmatrix}x\\0\\0\end{bmatrix}
$$
æ˜¾ç„¶ï¼Œè¿™å’Œåæ ‡ç³»Båœ¨åæ ‡ç³»Aå‰é¢$x$çš„å¹³ç§»å˜æ¢æ˜¯ä¸€è‡´çš„ã€‚

ç„¶åè€ƒè™‘æ—‹è½¬ï¼Œå°†Pç‚¹ç»•Zè½´æ—‹è½¬$\theta$ï¼Œé‚£ä¹ˆæ—‹è½¬åçš„Pç‚¹ä½ç½®å¦‚ä½•è®¡ç®—å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥**ä½¿ç”¨æ˜ å°„çš„æ–¹æ³•è®¡ç®—**ï¼Œæ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœå°†Pç‚¹ç»•Zè½´æ—‹è½¬$\theta$ï¼Œå°±ç›¸å½“äºæŠŠåæ ‡è½´æ—‹è½¬$-\theta$ï¼Œå‡è®¾åŸå§‹åæ ‡ç³»æ˜¯Aï¼Œæ—‹è½¬åæ–°åæ ‡ç³»ä¸ºBï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†ä¸Šè¿°è¿‡ç¨‹è½¬åŒ–ä¸ºè®¡ç®—Båæ ‡ä¸‹Pç‚¹çš„åæ ‡ï¼Œé¦–å…ˆè®¡ç®—æ—‹è½¬çŸ©é˜µ$^B_AR$ï¼Œå³Bä¸ºå‚è€ƒåæ ‡ç³»ä¸‹Aåæ ‡ç³»çš„å§¿æ€ï¼š
$$
^B_AR=\begin{aligned}
    \begin{bmatrix}
       cos\theta & -sin\theta & 0\\
       sin\theta & cos\theta & 0\\
       0&0&1
    \end{bmatrix}
\end{aligned}
$$
å¯ä»¥å¾—åˆ°æ—‹è½¬$\theta$åPç‚¹çš„åæ ‡ä¸ºï¼š
$$
P'=R\times P=^B_AR\times P
$$
ä¹Ÿå°±æ˜¯è¯´ï¼Œæ—‹è½¬ä¹Ÿæ»¡è¶³ä¸Šè¿°ç»“è®ºï¼Œå°†æ—‹è½¬å’Œå¹³ç§»ç»“åˆä¸€ä¸‹ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾—åˆ°æˆ‘æœ€å¼€å§‹å¾—åˆ°çš„ç»“è®ºğŸ«¡

## ç»•å›ºå®šè½´æ—‹è½¬

ç»•ä¸€ä¸ªå›ºå®šè½´æ—‹è½¬çš„æ—‹è½¬çŸ©é˜µç»å¸¸ä½¿ç”¨ï¼Œæˆ‘è¿™é‡Œè®°å½•ä¸€ä¸‹ç»•ä¸åŒè½´æ—‹è½¬å¾—åˆ°çš„çŸ©é˜µï¼ˆå®é™…ä¸Šæ ¹æ®æ—‹è½¬çŸ©é˜µçš„å®šä¹‰ä¹Ÿèƒ½å¾ˆå¿«ç¡®å®šï¼‰ï¼Œæ–¹ä¾¿åé¢å‚è€ƒä½¿ç”¨ã€‚

> ä¸‹é¢çš„è¡¨è¾¾å¼ä¸­ä½¿ç”¨ç®€å†™$crx$ä»£è¡¨$\cos(\theta_x)$ï¼Œä¹Ÿå°±æ˜¯xè½´æ–¹å‘æ—‹è½¬$\theta_x$çš„$\cos$å€¼ï¼Œ$srx$åŒç†ã€‚

ç»•xè½´æ—‹è½¬å¾—åˆ°çš„æ—‹è½¬çŸ©é˜µï¼š
$$
R_{rx}=
\begin{aligned}
    \begin{bmatrix}
        1&0&0\\0&crx&-srx\\0&srx&crx
    \end{bmatrix}
\end{aligned}
$$
ç»•yè½´æ—‹è½¬å¾—åˆ°çš„æ—‹è½¬çŸ©é˜µï¼š
$$
R_{ry}=\begin{aligned}\begin{bmatrix}cry&0&sry\\0&1&0\\-sry&0&cry\end{bmatrix}\end{aligned}
$$
ç»•zè½´æ—‹è½¬å¾—åˆ°çš„æ—‹è½¬çŸ©é˜µï¼š
$$
R_{rz}=\begin{aligned}\begin{bmatrix}crz&-srz&0\\srz&crz&0\\0&0&1\end{bmatrix}\end{aligned}
$$

# æ¬§æ‹‰è§’å’Œæ—‹è½¬å‘é‡

> ä¸Šé¢è®²äº†è¿™ä¹ˆå¤šï¼Œç›¸ä¿¡å¤§å®¶éƒ½è§‰å¾—æŒºç®€å•çš„ï¼Œè‡ªå·±æ˜ åƒä¸­å¥½åƒæ²¡è¿™ä¹ˆç®€å•å§(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»*)ï¼Œå°è±¡ä¸­å¥½åƒè¿˜æœ‰ä»€ä¹ˆå·¦æ‰‹åæ ‡ç³»ï¼Œå³æ‰‹åæ ‡ç³»ã€é›·è¾¾åæ ‡ç³»ã€ç›¸æœºåæ ‡ç³»ã€å†…æ—‹ã€å¤–æ—‹ã€X-Y-Zã€rpy...ä»€ä¹ˆçš„ã€‚è¿™éƒ¨åˆ†å¯ä»¥è¯´æ˜¯æ–°æ‰‹çš„å™©æ¢¦ğŸ˜°ï¼Œè®©äººé—»é£ä¸§èƒ†ã€‚ä¸è¿‡ä¸è¦æ‹…å¿ƒï¼ŒæŸå¥¥é‡Œç»™æ›¾ç»è¯´è¿‡ï¼Œæˆ˜èƒœææƒ§çš„æœ€å¥½åŠæ³•å°±æ˜¯é¢å¯¹ææƒ§ï¼Œå¹²å°±å®Œäº†ï¼Œå¥¥é‡Œç»™ï¼ï¼ï¼ï¼

å­¦ä¼šäº†ä¸Šä¸€ç« èŠ‚ï¼Œç›¸ä¿¡ä»£ç ä¸­çš„å„ç§å˜æ¢èƒ½è½»è€Œæ˜“ä¸¾çš„çœ‹æ‡‚ï¼Œæ¯•ç«Ÿä¸ç®¡æ˜¯Eigenåº“è¿˜æ˜¯rosçš„tfåº“ï¼Œå…¶éƒ½æ”¯æŒä¸Šè¿°çš„ä¹˜æ³•å½¢å¼çš„åæ ‡å˜æ¢ï¼Œä½†å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¸ºäº†å›¾æ–¹ä¾¿å¹¶ä¸å–œæ¬¢ç”¨çŸ©é˜µæ¥è¡¨è¾¾å§¿æ€ã€‚æ¯”å¦‚æœ‰äººé—®ä½ `ç›¸æœºå§¿æ€æ˜¯å¤šå°‘`ï¼Œç›¸ä¿¡æ²¡äººæƒ³å¬åˆ«äººè¯´å‡ºä¸€ä¸ªæ—‹è½¬çŸ©é˜µã€‚è€Œæ¬§æ‹‰è§’å°±è§£å†³äº†è¿™ä¸€ç—›ç‚¹ã€‚å½“ç„¶ï¼Œå››å…ƒæ•°æ˜¯è§£å†³äº†æ¬§æ‹‰è§’çš„ç—›ç‚¹ã€‚

## åæ ‡ç³»

> é¦–å…ˆï¼Œè¦å£°æ˜ä¸€ç‚¹çš„å°±æ˜¯ï¼Œåæ ‡ç³»æ”¾åœ¨è¿™é‡Œè®²ï¼Œè¡¨æ˜ä¸Šè¿°çš„æ—‹è½¬çŸ©é˜µåœ¨æ‰€æœ‰åæ ‡ç³»ä¸‹éƒ½æ˜¯é€šç”¨çš„ã€‚ä¸ç®¡åæ ‡ç³»æ˜¯å·¦æ‰‹ï¼Œå³æ‰‹ï¼Œxè½´æœå‰ç­‰ç­‰ï¼Œç»•zè½´å¾—åˆ°çš„æ—‹è½¬çŸ©é˜µéƒ½æ˜¯ä¸Šé¢æ‰€æåˆ°çš„æ—‹è½¬çŸ©é˜µï¼Œä¸è¿‡ç”±äºåæ ‡ç³»çš„å®šä¹‰ä¸åŒï¼Œæ—‹è½¬å‡ºæ¥çš„ç‰©ç†ï¼ˆå®é™…ï¼‰æ•ˆæœå¯èƒ½å®Œå…¨ä¸åŒã€‚

åæ ‡ç³»è¿™é‡Œæ”¾ä¸€å°ç« è®²å¹¶ä¸æ˜¯å› ä¸ºå®ƒå†…å®¹å¤šï¼Œè€Œæ˜¯å› ä¸ºå®ƒå¾ˆå®¹æ˜“è®©æ–°æ‰‹ï¼ˆæ¯”å¦‚å½“åˆçš„æˆ‘ï¼‰æ··æ·†ã€‚è¿™é‡Œä»‹ç»ä¸€äº›å¸¸ç”¨çš„åæ ‡ç³»ï¼š

* **å·¦/å³æ‰‹åæ ‡ç³»**

å·¦å³æ‰‹åæ ‡ç³»çš„å®šä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¤§æ‹‡æŒ‡æŒ‡å‘zè½´ï¼Œå…¶ä½™å››æŒ‡ç”±xè½´æ¡å‘yè½´ï¼Œå“ªåªæ‰‹æˆåŠŸå³ä¸ºå¯¹åº”çš„åæ ‡ç³»ï¼š

![img](https://pic3.zhimg.com/80/v2-94fd1950ef56659661b9ad5758dfe76a_720w.webp)\

![img](https://pic2.zhimg.com/80/v2-52b01bec9e61f57ab436ce44cebb8261_720w.webp)\

* **Lidaråæ ‡ç³»**

Lidaråæ ‡ç³»ä¸€èˆ¬å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå³xè½´æœå‰çš„å³æ‰‹åæ ‡ç³»ï¼š

![image-20230801233511343](https://pic-1302177449.cos.ap-chongqing.myqcloud.com/blog_picimage-20230801233511343.png)\

* **ç›¸æœºåæ ‡ç³»**

ç›¸æœºåæ ‡ç³»ä¸€èˆ¬å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå³zè½´æœå‰çš„å³æ‰‹åæ ‡ç³»ï¼š

![img](https://pic3.zhimg.com/80/v2-5060068738ad6fc3e695c55046cd2cc2_720w.webp)\

> è¿™é‡Œæ‰€è°“çš„è¶…å‰å°±æ˜¯æ­£æ”¾ï¼Œæ¯”å¦‚é›·è¾¾æ­£æ”¾å’Œç›¸æœºæ­£æ”¾ã€‚

* **Lidaråæ ‡ç³»è½¬ç›¸æœºåæ ‡ç³»**

å¾ˆæ˜¾ç„¶ï¼Œç”±ä¸Šé¢å¯çŸ¥ï¼ŒLidaråæ ‡ç³»å’Œç›¸æœºåæ ‡ç³»æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¦‚æœä¸¤ä¸ªä¼ æ„Ÿå™¨éƒ½æ­£æ”¾åœ¨è½¦ä¸Šï¼Œè¦å¯¹Lidarå’Œç›¸æœºçš„å‚æ•°åšè”åˆä¼˜åŒ–æ—¶ï¼Œå¾€å¾€éœ€è¦æŠŠLidaråæ ‡ç³»è½¬æ¢åˆ°ç›¸æœºåæ ‡ç³»ï¼Œæ ¹æ®ä¸Šå›¾å…³ç³»å¯ä»¥çŸ¥é“ï¼Œå¦‚æœä¸€ä¸ªç‚¹äº‘çš„åæ ‡ä¸º$(x,y,z)$ï¼Œé‚£ä¹ˆå°†ä»–è½¬åŒ–åˆ°ç›¸æœºåæ ‡ç³»ï¼Œä»–çš„åæ ‡ä¸º$(y,z,x)$ã€‚

> åŒæ—¶ï¼Œç»•ä¸åŒè½´è½¬çš„è§’åº¦ä¹Ÿéœ€è¦å¯¹åº”çš„è½¬æ¢ï¼Œæ¯”å¦‚ç»•xè½´è½¬rxï¼Œå¯¹åº”åˆ°ç›¸æœºåæ ‡ç³»ä¸ºç»•zè½´è½¬rxã€‚è¿™é‡Œéœ€è¦ç»“åˆåé¢æ¬§æ‹‰è§’çœ‹ã€‚

## æ¬§æ‹‰è§’

> è¿™éƒ¨åˆ†éå¸¸ç»•ï¼Œæˆ‘ä¸‹é¢è®²è§£çš„ä¸œè¥¿è™½ç„¶åœ¨æŸäº›æƒ…å†µä¸‹å¥½åƒèƒ½ç”¨ï¼Œä½†æ˜¯æ¢ä¸€ä¸ªç¯å¢ƒå¥½åƒåˆå¯¹ä¸ä¸Šäº†ï¼Œæ„Ÿè§‰ä¸åŒçš„æ•™æï¼Œä¸åŒçš„è½¯ä»¶å®šä¹‰ä¸åŒï¼Œä½¿ç”¨æ—¶è¿˜æ˜¯è¦æ³¨æ„ä»¥ä¸‹ï¼Œä¸è¿‡å¤§ä½“ä¸Šæ˜¯å¯¹çš„

æ¬§æ‹‰è§’çš„æ€æƒ³å¾ˆç®€å•ï¼Œå°†ç©ºé—´ä¸­ä»»æ„ä¸€ä¸ªå§¿æ€åˆ†è§£æˆ3ä¸ªé¡ºåºæ—‹è½¬ï¼ˆä¹Ÿå°±æ˜¯è¯´æŒ‰ç…§è§„åˆ™è½¬3æ¬¡åå¾—åˆ°å§¿æ€ï¼‰ã€‚è¿™æ ·å°±å¯ä»¥ç”¨3ä¸ªå˜é‡è¡¨ç¤ºç©ºé—´ä¸­ä»»æ„å§¿æ€äº†ã€‚æ ¹æ®æ—‹è½¬çš„è§„åˆ™ä¸åŒï¼Œæ¬§æ‹‰è§’çš„å€¼ä¹Ÿæœ‰æ‰€ä¸åŒã€‚ç”±äºæ¬§æ‹‰è§’æŒ‰é¡ºåºæ—‹è½¬ï¼Œæ—‹è½¬çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå¯ä»¥æŒ‰ä¸‹åˆ†ç±»ï¼š

* ç»•å›ºå®šè½´æ—‹è½¬ï¼ˆå¤–æ—‹ï¼‰ï¼šX-Y-Zï¼ŒZ-X-Y...

* ç»•æ—‹è½¬åçš„è½´æ—‹è½¬ï¼ˆå†…æ—‹ï¼‰ï¼šX-Y-Zï¼ŒZ-X-Y...

ä¸¾ä¸ªä¾‹å­ï¼ŒZ-Y-Xå¤–æ—‹ï¼Œå°±æ˜¯å…ˆç»•Zè½´è½¬ï¼Œå†ç»•Yè½´è½¬ï¼Œæœ€åXè½´è½¬ï¼Œè¿™é‡Œé¢çš„xyzè½´æ˜¯å›ºå®šçš„ã€‚è€ŒZ-Y-Xå†…æ—‹å°±æ˜¯ç»•Zè½´è½¬åï¼Œç»•æ—‹è½¬ååæ ‡ç³»çš„Yè½´è½¬ä¸‹ä¸€æ¬¡ã€‚æœ‹å‹ä»¬å¯ä»¥æ‹¿èº«è¾¹çš„ç‰©ä½“è¯•ä¸€ä¸‹ï¼Œè¿™ä¸¤ç§è½¬æ³•æ˜¯ä¸ä¸€æ ·çš„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œ**ç»•å›ºå®šè½´æ—‹è½¬ï¼Œæ¯æ¬¡æ—‹è½¬éƒ½æ˜¯å·¦ä¹˜æ—‹è½¬çŸ©é˜µ**ï¼Œè¿™ç‚¹å’Œæˆ‘ä»¬ä¹‹å‰è®²çš„ç®—å­ä¸€æ ·ï¼Œæ¯”å¦‚ç»•Zè½´è½¬$R_z$ï¼Œå†ç»•Yè½´æ—‹è½¬$R_y$ï¼Œæœ€åç»•Xè½´æ—‹è½¬$R_x$ï¼Œå…¶æ—‹è½¬çŸ©é˜µä¸ºï¼š
$$
R=R_x\times R_y\times R_z
$$
è€Œå†…æ—‹éƒ½æ˜¯å³ä¹˜æ—‹è½¬çŸ©é˜µï¼Œæ‰€ä»¥å†…æ—‹Z-Y-Xå’Œå¤–æ—‹X-Y-Zå¾—åˆ°çš„æ—‹è½¬çŸ©é˜µç›¸åŒï¼ˆä¹Ÿå¯ä»¥è‡ªå·±ç”¨ç‰©ä½“è¯•éªŒä¸€ä¸‹ï¼ŒçœŸæ˜¯éš¾ä»¥ç†è§£å‘¢ï¼Œå¤ªç¥å¥‡äº†ï¼‰ã€‚ä¸Šè¿°çš„æ—‹è½¬é¡ºåºå¦‚æœæ˜¯å†…æ—‹ï¼Œå¾—åˆ°çš„æ—‹è½¬çŸ©é˜µä¸ºï¼š
$$
R=R_z\times R_y\times R_x
$$
å¯¹äºä¸åŒçš„æ—‹è½¬æ–¹å¼ï¼Œæ‰€å¯¹åº”çš„è¿ç®—ä¹Ÿä¸ç›¸åŒã€‚ä¸ºäº†ä¾¿äºè®¨è®ºï¼Œåœ¨æœºå™¨äººé¢†åŸŸä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨`rpy`è§’ï¼Œrpyè§’æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¬§æ‹‰è§’ï¼Œå…¶è§„åˆ™ä¸ºï¼š**æ—‹è½¬é¡ºåºï¼šY-P-Rï¼Œæˆ–åˆ™è¯´æ˜¯Z-Y-Xï¼ˆä¸ä¸€å®šï¼Ÿè·Ÿåæ ‡ç³»å®šä¹‰æœ‰å…³ï¼‰ï¼Œç»•æ—‹è½¬åçš„è½´æ—‹è½¬ï¼ˆå†…æ—‹ï¼‰**ã€‚æˆ‘è¿™é‡Œå‚è€ƒçš„æ˜¯è§†è§‰SLAM14è®²ä¸Šçš„å®šä¹‰ï¼ŒåŒæ—¶ï¼Œæˆ‘æ³¨æ„åˆ°ç½‘ä¸Šæœ‰å¾ˆå¤šè·Ÿå…¶å®šä¹‰çš„ä¸ä¸€æ ·ï¼Œä½¿ç”¨æ—¶æ³¨æ„åŒºåˆ†ã€‚

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœºå™¨äººé¢†åŸŸä¸­çš„rpyè§’ä¸€èˆ¬æ˜¯æŒ‡åœ¨Lidaråæ ‡ç³»ä¸‹çš„æ—‹è½¬ï¼Œå¦‚æœæ˜¯ç›¸æœºåæ ‡ç³»ä¸‹ï¼Œæ—‹è½¬é¡ºåºéœ€è¦åšä¸€å®šçš„è½¬åŒ–ã€‚

rpyè§’å’Œæ—‹è½¬çŸ©é˜µçš„è½¬æ¢æ–¹å¼å¦‚ä¸‹ï¼ˆæˆ‘è¿™é‡Œçš„zyxæ˜¯å¯¹åº”äºlidarçš„ï¼Œç›¸å½“äºzåœ¨ä¸Šxå‘å‰çš„å³æ‰‹åæ ‡ç³»ï¼Œå¯¹äºä¸åŒçš„åæ ‡ç³»å¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒï¼‰
$$
\begin{eqnarray}
R&=&R_{yaw}\times R_{pitch}\times R_{roll}=R_{rz}\times R_{ry}\times R_{rx}\\
&=&\begin{bmatrix}crz\cdot cry&-srz\cdot crx+crz\cdot sry\cdot srx&srz\cdot srx+crz\cdot sry\cdot crx\\srz\cdot cry&crz\cdot crx+srz\cdot sry\cdot srx&-crz\cdot srx+srz\cdot sry\cdot crx\\-sry&cry\cdot srx&cry\cdot crx\end{bmatrix}\end{eqnarray}
$$

>å¯¹äºä¸åŒåæ ‡ç³»ï¼Œæ¯”å¦‚ç›¸æœºåæ ‡ç³»ï¼ˆzæœå‰çš„å³æ‰‹åæ ‡ç³»ï¼‰ï¼Œyawè§’å¯¹åº”çš„å°±æ˜¯$R_{ry}$ã€‚æ€»ä¹‹å…¬å¼å‰åŠéƒ¨åˆ†ä¸€å®šæ˜¯å¯¹çš„ï¼ŒååŠéƒ¨åˆ†æ ¹æ®åæ ‡ç³»ä¸åŒéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚åŒæ—¶ï¼Œè¿™é‡Œæ˜¯å†…æ—‹ï¼Œæ‰€ä»¥æ—‹è½¬å¯¹åº”å³ä¹˜ã€‚

åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±æŠŠæ¬§æ‹‰è§’ä»‹ç»æ¸…æ¥šäº†ï¼Œè™½ç„¶è¡¨é¢ä¸ŠæŠŠå˜é‡ä»9ä¸ªå‡å°‘åˆ°äº†3ä¸ªï¼Œä½†å´æ›´å®¹æ˜“æ··æ·†äº†ï¼Œæ—‹è½¬çŸ©é˜µåªéœ€è¦ç»™å®š`åæ ‡ç³»ã€æ—‹è½¬çŸ©é˜µ`ä¸¤ä¸ªé‡å°±èƒ½å”¯ä¸€ç¡®å®šä¸€ä¸ªæ—‹è½¬ï¼Œè€Œæ¬§æ‹‰è§’éœ€è¦`åæ ‡ç³»ã€æ—‹è½¬é¡ºåºã€å†…æ—‹/å¤–æ—‹ã€æ—‹è½¬è§’åº¦`æ‰èƒ½å”¯ä¸€ç¡®å®šä¸€ä¸ªæ—‹è½¬ï¼Œå¯ä»¥è¯´æ˜¯çœŸè®©äººå¤´å¤§ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•æ—¢å¯ä»¥å‡å°‘å˜é‡ï¼Œç”±ä¸å®¹æ˜“æ··æ·†ï¼ˆæ²¡æœ‰å¥‡å¼‚ï¼‰å‘¢ã€‚ä¸‹é¢ä»‹ç»å››å…ƒæ•°ã€‚
>å…¶å®è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚ä½•ä»æ—‹è½¬çŸ©é˜µå¾—åˆ°æ¬§æ‹‰è§’ï¼Œåšæ³•å…¶å®ä¸å¤æ‚ï¼Œæ ¹æ®ä¸Šè¿°è½¬æ¢å…³ç³»ï¼Œé€šè¿‡çŸ©é˜µå†…éƒ¨å…ƒç´ ä¹‹é—´çš„ä¹˜é™¤æ³•å¯ä»¥å¾—åˆ°å¯¹åº”æ¬§æ‹‰è§’çš„æ­£å¼¦ã€ä½™å¼¦ã€æ­£åˆ‡å€¼ç­‰ï¼Œç„¶åé€šè¿‡åä¸‰è§’è®¡ç®—å³å¯

## æ—‹è½¬å‘é‡

> æ—‹è½¬å‘é‡åœ¨æ±‚å¯¼æ—¶ç»å¸¸ç”¨åˆ°ç›¸å…³æ¦‚å¿µï¼Œä»¥æˆ‘ç›®å‰çš„è®¤çŸ¥æ¥çœ‹ï¼Œæˆ‘è®¤ä¸ºæ˜¯æ—‹è½¬å‘é‡å’Œæ¢¯åº¦å¾ˆåƒï¼Œä»–æ—¢æœ‰æ–¹å‘ï¼Œåˆæœ‰å¤§å°ï¼Œå³åƒå†…æ—‹ä¸€æ ·å–å†³äºå½“å‰å§¿æ€ï¼Œåˆæ²¡æœ‰å„ç§æ­§ä¹‰ã€‚è¿™éƒ¨åˆ†åœ¨åé¢çš„æç¾¤å’Œæä»£æ•°ä¸­éå¸¸æœ‰ç”¨

ç®€å•æ¥è®²ï¼Œ**æ—‹è½¬å‘é‡å°±æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå‘é‡çš„æ–¹å‘è¡¨ç¤ºæ—‹è½¬è½´ï¼Œå‘é‡çš„å¤§å°è¡¨ç¤ºæ—‹è½¬è§’åº¦ï¼Œé€šå¸¸ç”¨ç¬¦å·$\phi$è¡¨ç¤º**ã€‚ä¸ºäº†åé¢ä¾¿äºç†è§£ï¼Œéœ€è¦å…ˆå¼•å…¥ä¸€äº›æ¦‚å¿µï¼Œé¦–å…ˆæ˜¯å¤–ç§¯ï¼š
$$
\pmb{a}\times \pmb{b}=\begin{aligned}\begin{bmatrix}a_2b_3-a_3b_2\\a_3b_1-a_1b_3\\a_1b_2-a_2b_1\end{bmatrix}\end{aligned}=\begin{aligned}\begin{bmatrix}0&-a_3&a_2\\a_3&0&-a_1\\-a_2&a_1&0\end{bmatrix}\end{aligned}\pmb{b}=\pmb{a}^{\wedge}b
$$
è¿™é‡Œå’Œæ™®é€šå¤–ç§¯ä¸€æ ·ï¼Œä¸»è¦æ˜¯å¼•å…¥ä¸€ä¸ªç¬¦å·$\wedge$ï¼Œå°†è¯¥ç¬¦å·ç§°ä¸º**åå¯¹ç§°ç¬¦å·**ï¼Œä»–çš„åŠŸèƒ½æ˜¯å°†å‘é‡è½¬æˆå¯¹åº”çš„ä¸€ä¸ªåå¯¹ç§°çŸ©é˜µï¼Œè¿˜æœ‰ä¸€ä¸ªç¬¦å·$\vee$è¡¨ç¤ºå°†å¯¹åº”çš„åå¯¹ç§°çŸ©é˜µè½¬åŒ–ä¸ºå‘é‡ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼š
$$
\pmb{a}^{\wedge}=\begin{aligned}\begin{bmatrix}0&-a_3&a_2\\a_3&0&-a_1\\-a_2&a_1&0\end{bmatrix}\end{aligned}
$$
ä¸€ä¸ªæ—‹è½¬å‘é‡å¯ä»¥å”¯ä¸€è¡¨ç¤ºä¸€ä¸ªå§¿æ€ï¼Œé‚£ä¹ˆä»–å¯¹åº”äº†ä¸€ä¸ªæ—‹è½¬çŸ©é˜µï¼Œå°†æ—‹è½¬å‘é‡åˆ†è§£ä¸ºæ¨¡ä¹˜ä»¥æ–¹å‘çš„å½¢å¼$\phi=\theta\pmb{n}$ï¼Œé‚£ä¹ˆæ—‹è½¬å‘é‡å’Œæ—‹è½¬çŸ©é˜µçš„å…³ç³»ç”±**ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼**ç»™å‡ºï¼š
$$
R=\cos\theta I+\left(1-\cos\theta\right)\pmb{n}\pmb{n}^T+\sin\theta\pmb{n}^{\wedge}
$$
åŒæ ·ï¼Œæ—‹è½¬çŸ©é˜µä¹Ÿå¯ä»¥è½¬åŒ–æˆæ—‹è½¬å‘é‡ï¼Œå¯¹ä¸Šè¿°ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ä¸¤è¾¹åŒæ—¶å–è¿¹å¯ä»¥å¾—åˆ°ï¼š
$$
\theta = \arccos\frac{tr{(R)}-1}{2}
$$
è€Œæ ¹æ®æ—‹è½¬è½´æ—‹è½¬åä¸å˜å¯å¾—$R\pmb{n}=\pmb{n}$å¯å¾—ï¼š**æ—‹è½¬è½´ä¸º$R$ä¸­ç‰¹å¾å€¼1å¯¹åº”å¾—ç‰¹å¾å‘é‡**ï¼Œæ ¹æ®æœ¬ç§‘æ±‚ç‰¹å¾å€¼ç‰¹å¾å‘é‡å¾—æ–¹æ³•çš„çŸ¥è¯†å³å¯æ±‚å‡º
> è¿™é‡Œè¿˜æ˜¯ç®€å•è¯´ä¸€ä¸‹ï¼Œæ ¹æ®$\left(A-\lambda E\right)x=0$ï¼Œå…ˆæ±‚$\lambda$å†å¸¦å…¥æ±‚è§£$x$ï¼Œä¸è¿‡è¿™é‡Œ$\lambda=1$æ˜¯å·²çŸ¥ç»“æœï¼Œå¯ä»¥å¸¦å…¥åç›´æ¥æ±‚è§£å¯¹åº”çš„$x$

# å››å…ƒæ•°

> å¦‚æœè¯´æ¬§æ‹‰è§’æ˜¯æœ€å®¹æ˜“æ··æ·†çš„ï¼Œé‚£ä¹ˆå››å…ƒæ•°å°±æ˜¯æœ€éš¾ç†è§£çš„ğŸ˜­ã€‚

æœ‰ä¸€äº›å¤æ•°åŸºç¡€çš„æœ‹å‹éƒ½çŸ¥é“å¤æ•°ä¹˜ä»¥$e^{i\theta}$å°±æ˜¯å°†å¤æ•°åœ¨å¤å¹³é¢æ—‹è½¬$\theta$ï¼ˆæˆ‘æœ¬ç§‘åšå›¾ç‰‡æ—‹è½¬çš„ä½œä¸šæ—¶ï¼Œå°±æ˜¯å°†æ¯ä¸ªç‚¹è½¬åŒ–æˆå¤æ•°ï¼Œå†ä¹˜ä»¥$e^{i\theta}$å¾—åˆ°æ—‹è½¬åçš„åƒç´ åæ ‡ï¼‰ã€‚è€Œå››å…ƒæ•°å°±ç›¸å½“äºä¸‰ç»´ç©ºé—´ä¸Šçš„å¤æ•°ï¼Œæˆ‘ä»¬å…ˆä»‹ç»ä»¥ä¸‹å››å…ƒæ•°çš„åŸºæœ¬æ¦‚å¿µå’Œæ€§è´¨ï¼Œå†ä½¿ç”¨ä»–æ¥è¡¨ç¤ºå§¿æ€ã€‚

## å››å…ƒæ•°åŸºæœ¬æ¦‚å¿µå’Œæ€§è´¨

å››å…ƒæ•°ä¸€èˆ¬ç”¨ç¬¦å·$q$ï¼ˆquaternionï¼‰è¡¨ç¤ºï¼Œæ‹¥æœ‰ä¸€ä¸ªå®éƒ¨å’Œä¸‰ä¸ªè™šéƒ¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆå®éƒ¨ä¸ä¸€å®šåœ¨å‰é¢ï¼‰ï¼š
$$
\pmb{q}=q_0+q_1i+q_2j+q3k
$$
å…¶ä¸­ï¼Œ$i,j,k$ä¸ºè™šéƒ¨ï¼Œä»–ä»¬ä¹‹é—´æ»¡è¶³ï¼š
$$
\left\{\begin{align*}\begin{array}{l}i^2=j^2=k^2=-1\\ij=k,ji=-k\\jk=i,kj=-i\\ki=j,ik=-j\end{array}\end{align*}\right.
$$
é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å–œæ¬¢ç”¨ä¸€ä¸ªæ ‡é‡å’Œä¸€ä¸ªå‘é‡æ¥è¡¨ç¤ºå››å…ƒæ•°ï¼š
$$
\pmb{q}=\left[s,\pmb{v}\right]^T,\ s=q_0\in R,\ \pmb{v}=\left[q_1,q_2,q_3\right]^T\in R^3
$$
å¦‚æœä¸€ä¸ªå››å…ƒæ•°å®éƒ¨ä¸º0ï¼Œç§°ä¸º**è™šå››å…ƒæ•°**ï¼Œè‹¥è™šéƒ¨ä¸º0ï¼Œåˆ™ç§°ä¸º**å®å››å…ƒæ•°**ï¼Œæ¥ä¸‹æ¥è®²è§£ä¸€ä¸‹å››å…ƒæ•°çš„è¿ç®—ï¼Œè®¾æœ‰ä¸¤ä¸ªå››å…ƒæ•°ï¼š
$$
\pmb{q}_a=\left[s_a,\pmb{v}_a\right]=s_a+x_ai+y_aj+z_ak
\\
\pmb{q}_b=\left[s_a,\pmb{v}_a\right]=s_a+x_ai+y_aj+z_ak
$$

* å››å…ƒæ•°åŠ å‡æ³•

    $$
    \pmb{q}_a\pm\pmb{q}_b=\left[s_a\pm s_b,\pmb{v}_a\pm\pmb{v}_b\right]
    $$
* ä¹˜æ³•

    $$
    \begin{align*}
    \pmb{q}_a\pmb{q}_b=& s_as_b-x_ax_b-y_ay_b-z_az_b\\
    &+\left(s_ax_b+x_as_b+y_az_b-z_ay_b\right)i\\
    &+\left(s_ay_b-x_az_b+y_as_b+z_ax_b\right)j\\
    &+\left(s_az_b+x_ay_b-y_ax_b+z_as_b\right)k
    \end{align*}
    $$
    è¿™é‡Œå…¶å®å°±æ˜¯ä¸¤æ•°ç›¸ä¹˜çš„ç»“æœï¼Œå†™æ³•ä¸Šï¼Œä¸Šå¼æ˜¯ä¿è¯å·¦è¾¹å­—æ¯é¡ºåºæ˜¯$s_a,x_a,y_a,z_a$ï¼Œå³è¾¹å°±æ˜¯ä¹˜ç§¯ä¸ºå¯¹åº”ç»´åº¦çš„å€¼ï¼Œå†™æˆå‘é‡çš„å½¢å¼æœ‰
    $$
    \pmb{q}_a\pmb{q}_b=\left[s_as_b-v_a^Tv_b,s_av_b+s_bv_a+v_a\times v_b\right]^T
    $$
    æ ¹æ®ä¸Šé¢æ‰€ç¤ºï¼Œæ˜¾ç„¶å®å››å…ƒæ•°ç›¸ä¹˜ä»æœªå®å››å…ƒæ•°ã€è™šå››å…ƒæ•°ç›¸ä¹˜è®¤ä¸ºè™šå››å…ƒæ•°ï¼Œä¸”**å››å…ƒæ•°çš„ä¹˜æ³•ä¸æ»¡è¶³äº¤æ¢å¾‹**

* æ¨¡é•¿

    $$
    \left\|\pmb{q}_a\right\|=\sqrt{s_a^2+x_a^2+y_a^2+z_a^2}
    $$
    ä¸¤ä¸ªå››å…ƒæ•°ä¹˜ç§¯çš„æ¨¡ç­‰äºæ¨¡çš„ä¹˜ç§¯ï¼š
    $$
    \left\|\pmb{q}_a\pmb{q}_b\right\|=\left\|\pmb{q}_a\right\|\left\|\pmb{q}_b\right\|
    $$

* å…±è½­
  
    å’Œå¤æ•°ä¸€æ ·ï¼Œå…±è½­å°±æ˜¯è™šéƒ¨å–ç›¸åæ•°ï¼š
    $$
    \pmb{q}_a^*=s_a-x_ai-y_aj-z_ak=\left[s_a,-\pmb{v}_a\right]^T
    $$
    å’Œå¤æ•°ä¸€æ ·ï¼Œå››å…ƒæ•°å’Œè‡ªèº«å…±è½­çš„ä¹˜ç§¯ä¸ºæ¨¡é•¿çš„å¹³æ–¹ï¼š
    $$
    \pmb{q}_a^*\pmb{q}_a=\pmb{q}_a\pmb{q}_a^*=\left[s_a^2+\pmb{v}_a\pmb{v}_a^T, 0\right]
    $$

* é€†
  
    å…¶å®å°±æ˜¯$1/\pmb{q}$ï¼Œå’Œå¤æ•°ç±»ä¼¼ï¼Œå¯ä»¥ä¸Šä¸‹åŒæ—¶ä¹˜ä»¥å…±è½­å¾—åˆ°ï¼š
    $$
    \pmb{q}^{-1}=\frac{\pmb{q}^*}{\left\|q\right\|^2}
    $$
    æ˜¾ç„¶ï¼Œå…¶é€†å’Œè‡ªèº«ä¹˜ç§¯ä¸º1ï¼š
    $$
    \pmb{q}^{-1}\pmb{q}=\pmb{q}\pmb{q}^{-1}=1
    $$
    å¦‚æœ$q$ä¸º**å•ä½å››å…ƒæ•°ï¼Œå…¶é€†ç­‰äºå…±è½­**ï¼Œå››å…ƒæ•°ä¹˜ç§¯çš„é€†å…·æœ‰å’ŒçŸ©é˜µç±»ä¼¼çš„æ€§è´¨ï¼š
    $$
    \left(\pmb{q}_a\pmb{q}_b\right)^{-1}=\pmb{q}_b^{-1}\pmb{q}_a^{-1}
    $$

* æ•°ä¹˜

    $$
    k\pmb{q}=\left[ks,k\pmb{v}\right]
    $$

## å››å…ƒæ•°è¡¨ç¤ºæ—‹è½¬

>è¿™é‡Œæˆ‘ä¸»è¦è®²è§£ä¸€äº›å…¬å¼ï¼Œæ²¡æœ‰å‡ ä½•ä¸Šçš„è§£é‡Š

**ä½¿ç”¨å››å…ƒæ•°è¡¨ç¤ºçš„æ—‹è½¬**

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è®°ä½ä¸€ç‚¹ï¼Œä¸€ä¸ªå•ä½å››å…ƒæ•°å¯¹åº”äº†ä¸€ä¸ªå”¯ä¸€çš„æ—‹è½¬ï¼Œå¦‚æœå°†è¯¥æ—‹è½¬ä½œç”¨åœ¨$\pmb{p}$ç‚¹ä¸Šï¼Œè®©å…¶å˜æˆ$\pmb{p}'$éœ€è¦ä¸¤æ­¥ï¼š

* é¦–å…ˆç”¨è™šå››å…ƒæ•°è¡¨ç¤ºç©ºé—´ä¸­çš„$\pmb{p}=[x,y,z]$ç‚¹

    $$
    \pmb{p}=[0,x,y,z]^T=[0,\pmb{v}]^T
    $$

* æ—‹è½¬åçš„ç‚¹ä¸º

    $$
    \pmb{p}'=\pmb{q}\pmb{p}\pmb{q}^{-1}
    $$
    è¿™é‡Œæ—‹è½¬åçš„ä¸ºçº¯è™šå››å…ƒæ•°ï¼Œå…¶è™šéƒ¨ä¸ºæ—‹è½¬åçš„ç‚¹çš„åæ ‡

**å’Œå…¶ä»–æ—‹è½¬çš„å…³ç³»**

ä¸ºäº†å’Œæ—‹è½¬çŸ©é˜µæ‰¯ä¸Šå…³ç³»ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸¤ä¸ªç¬¦å·ï¼Œç”¨äºå°†å››å…ƒæ•°è½¬åŒ–æˆçŸ©é˜µï¼Œè®¾$\pmb{q}=[s,\pmb{v}]^T$ï¼Œå®šä¹‰ç¬¦å·$^+$å’Œ$^{\bigoplus}$ä¸ºï¼š
$$
\pmb{q}^+=\begin{aligned}\begin{bmatrix}s&-\pmb{v}^T\\\pmb{v}&s\pmb{I}+\pmb{v}^{\wedge}\end{bmatrix}\end{aligned},\ \pmb{q}^{\bigoplus}=\begin{aligned}\begin{bmatrix}s&-\pmb{v}^T\\\pmb{v}&s\pmb{I}-\pmb{v}^{\wedge}\end{bmatrix}\end{aligned}
$$
æœ‰äº†ä¸Šè¿°ç¬¦å·ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå››å…ƒæ•°ä¹˜æ³•å†™æˆçŸ©é˜µçš„å½¢å¼ï¼š
$$
\pmb{q}_1^+\pmb{q}_2=\begin{aligned}\begin{bmatrix}s_1&-\pmb{v}_1^T\\\pmb{v}_1&s_1\pmb{I}+\pmb{v}_1^{\wedge}\end{bmatrix}\end{aligned}\begin{aligned}\begin{bmatrix}s_2\\v_2\end{bmatrix}\end{aligned}=\begin{aligned}\begin{bmatrix}-\pmb{v}_1^T\pmb{v}_2+s_1s_2\\s_1\pmb{v}_2+s_2\pmb{v}_1+\pmb{v}_1^{\wedge}\pmb{v}_2\end{bmatrix}\end{aligned}=\pmb{q}_1\pmb{q}_2=\pmb{q}_2^{\bigoplus}\pmb{q}_1
$$
æˆ‘ä»¬å°±å¯ä»¥å†™å‡ºå››å…ƒæ•°å’Œæ—‹è½¬çŸ©é˜µçš„å…³ç³»ï¼ˆè¯æ˜è§æœ€åï¼‰ï¼š
$$
\pmb{R}=\pmb{v}\pmb{v}^T+s^2\pmb{I}+2s\pmb{v}^{\wedge}+\left(\pmb{v}^{\wedge}\right)^2 \tag{1}
$$
æœ‰äº†Rï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“å¾—åˆ°å’Œæ—‹è½¬å‘é‡ä¹‹é—´çš„å…³ç³»ï¼ˆè¯æ˜è§æœ€åï¼‰ï¼š
$$
\left\{\begin{align*}\begin{array}{l}
\theta = 2\arccos q_0\\
\left[n_x,n_y,n_z\right]^T=\left[q_1,q_2,q_3\right]^T/\sin\frac{\theta}{2}
\end{array}\end{align*}\right.\tag{2}
$$

# å…¶ä»–å˜æ¢

é™¤äº†ä¸Šè¿°æ¬§å¼å˜æ¢ä¹‹å¤–ï¼Œå¸¸è§çš„è¿˜æœ‰å¦‚ä¸‹3ç§å˜æ¢

## ç›¸ä¼¼å˜æ¢

ç›¸æ¯”æ¬§å¼å˜æ¢å¤šäº†ä¸€ä¸ªè‡ªç”±åº¦ï¼Œå¯ä»¥å¯¹ç‰©ä½“è¿›è¡Œå‡åŒ€ç¼©æ”¾
$$
\begin{aligned}\begin{bmatrix}s\pmb{R}&\pmb{t}\\\pmb{0}^T&1\end{bmatrix}\end{aligned}
$$

## ä»¿å°„å˜æ¢ï¼ˆæ­£äº¤æŠ•å½±ï¼‰

å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š
$$
\begin{aligned}\begin{bmatrix}\pmb{A}&\pmb{t}\\\pmb{0}^T&1\end{bmatrix}\end{aligned}
$$
ä»¿å°„å˜æ¢åªè¦æ±‚çŸ©é˜µ$\pmb{A}$ä¸ºå¯é€†çŸ©é˜µï¼Œè€Œä¸å¿…é¡»æ˜¯æ­£äº¤çŸ©é˜µï¼Œæ”¾å°„å˜æ¢åç«‹æ–¹ä½“ä¸ä¸€å®šæ˜¯æ–¹çš„ï¼Œå•å„ä¸ªé¢ä»ç„¶å¹³è¡Œ

## å°„å½±å˜æ¢

å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š
$$
\begin{aligned}\begin{bmatrix}\pmb{A}&\pmb{t}\\\pmb{a}^T&v\end{bmatrix}\end{aligned}
$$
å·¦ä¸Šè§’ä¸ºå¯é€†çŸ©é˜µ$\pmb{A}$ï¼Œå³ä¸Šè§’ä¸ºå¹³ç§»$\pmb{t}$ï¼Œå·¦ä¸‹è§’ä¸ºç¼©æ”¾$\pmb{a}$ï¼Œå³ä¸‹è§’çš„$v$å…¶å®åªæœ‰1å’Œ0ä¸¤ç§å–å€¼ï¼ˆå…¶ä»–å€¼æ—¶å¯ä»¥å¯¹çŸ©é˜µé™¤ä»¥$v$è½¬åŒ–æˆ1ï¼‰ï¼Œè¿™é‡Œå·¦ä¸‹è§’çš„æ„ä¹‰æ¶‰åŠåˆ°é½æ¬¡åæ ‡çš„æ¥æºï¼Œå¯ä»¥è‡ªè¡Œç™¾åº¦ï¼Œè¿™é‡Œç»™ä¸€ä¸ªä»‹ç»çš„è¿˜ä¸é”™çš„åšå®¢ï¼š[ä»€ä¹ˆæ˜¯é½æ¬¡åæ ‡? - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/258437902)ã€‚

ä»çœŸå®ä¸–ç•Œåˆ°ç›¸æœºç…§ç‰‡å¯ä»¥çœ‹ä½œä¸€ä¸ªå°„å½±å˜æ¢ï¼Œå˜æ¢åå¹³è¡Œå…³ç³»ç”±äºè¿‘å¤§è¿œå°å¯èƒ½å˜æˆç›¸äº¤å…³ç³»ã€‚

![img](https://pic1.zhimg.com/80/v2-5b0f415b939455654788514532af7ecc_720w.webp)\

## æ€»ç»“

å„ç§å˜æ¢ä¹‹é—´çš„æ€§è´¨æ¯”è¾ƒå¦‚ä¸‹æ‰€ç¤º

<div class="center">

|å˜æ¢åç§°|çŸ©é˜µå½¢å¼|è‡ªç”±åº¦|ä¸å˜æ€§è´¨|
|:-:|:-:|:-:|:-:|
|æ¬§å¼å˜æ¢|$\begin{aligned}\begin{bmatrix}\pmb{R}&\pmb{t}\\\pmb{0}^T&1\end{bmatrix}\end{aligned}$|6|é•¿åº¦ã€å¤¹è§’ã€ä½“ç§¯|
|ç›¸ä¼¼å˜æ¢|$\begin{aligned}\begin{bmatrix}s\pmb{R}&\pmb{t}\\\pmb{0}^T&1\end{bmatrix}\end{aligned}$|7|ä½“ç§¯æ¯”|
|ä»¿å°„å˜æ¢|$\begin{aligned}\begin{bmatrix}\pmb{A}&\pmb{t}\\\pmb{0}^T&1\end{bmatrix}\end{aligned}$|12|å¹³è¡Œæ€§ã€ä½“ç§¯æ¯”|
|å°„å½±å˜æ¢|$\begin{aligned}\begin{bmatrix}\pmb{A}&\pmb{t}\\\pmb{a}^T&v\end{bmatrix}\end{aligned}$|15|æ¥è§¦å¹³é¢çš„ç›¸äº¤å’Œç›¸åˆ‡|

</div>



# ç›¸å…³è¯æ˜
**å…¬å¼(1)è¯æ˜** 

è€ƒè™‘å¯¹$\pmb{p}$ç‚¹è¿›è¡Œæ—‹è½¬ï¼Œå¯å¾—:
$$
\begin{align*}
\pmb{p}'&=\pmb{q}\pmb{p}\pmb{q}^{-1}=\pmb{q}^+\pmb{p}^+\pmb{q}^{-1}\\
&=\pmb{q}^+\left(\pmb{q}^{-1}\right)^{\bigoplus}\pmb{p}
\end{align*}
$$
å°†çŸ©é˜µå½¢å¼å¸¦å…¥åå¾—åˆ°ï¼ˆè¿™é‡Œç”¨åˆ°äº†å•ä½å››å…ƒæ•°é€†ç­‰äºå…±è½­çš„æ€§è´¨ï¼‰ï¼š
$$
\pmb{q}^+\left(\pmb{q}^{-1}\right)^{\bigoplus}=\begin{aligned}\begin{bmatrix}s&-\pmb{v}^T\\\pmb{v}&s\pmb{I}+\pmb{v}^{\wedge}\end{bmatrix}\end{aligned}\begin{aligned}\begin{bmatrix}s&\pmb{v}^T\\-\pmb{v}&s\pmb{I}+\pmb{v}^{\wedge}\end{bmatrix}\end{aligned}=\begin{aligned}\begin{bmatrix}1&\pmb{0}\\\pmb{0}^T&\pmb{v}\pmb{v}^T+s^2\pmb{I}+2s\pmb{v}^{\wedge}+\left(\pmb{v}^{\wedge}\right)^2\end{bmatrix}\end{aligned}
$$
å†æ ¹æ®çŸ©é˜µçš„åˆ†å—ä¹˜æ³•ï¼Œå¾ˆå®¹å¾—åˆ°å³ä¸‹è§’çŸ©é˜µä¹˜ä»¥$\pmb{p}$ç­‰äºæ—‹è½¬åçš„ç»“æœï¼Œå³å³ä¸‹è§’çŸ©é˜µä¸ºæ—‹è½¬çŸ©é˜µ

**å…¬å¼(2)è¯æ˜**

æ ¹æ®æ—‹è½¬çŸ©é˜µåˆ°æ—‹è½¬å‘é‡çš„è½¬æ¢æ–¹å¼ï¼Œæˆ‘ä»¬å…ˆè®¡ç®—æ—‹è½¬çŸ©é˜µçš„è¿¹ï¼š
$$
\begin{align*}
tr(\pmb{R})&=tr(\pmb{v}\pmb{v}^T)+3s^2+2s\cdot0+tr(\left(\pmb{v}^{\wedge}\right)^2)\\
&=v_1^2+v_2^2+v_3^2+3s^2-2\left(v_1^2+v_2^2+v_3^2\right)\\
&=\left(1-s^2\right)+3s^2-2\left(1-s^2\right)\\
&=4s^2-1
\end{align*}
$$
ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°$\theta$çš„è®¡ç®—å…¬å¼
$$
\begin{align*}
\theta&=\arccos(\frac{tr(\pmb{R})-1}{2})\\
&=\arccos(2s^2-1)
\end{align*}
$$
å³ï¼š
$$
\cos\theta=2s^2-1
$$
åˆå› ä¸ºï¼š
$$
\cos\theta=2\cos^2\frac{\theta}{2}-1
$$
å¯¹æ¯”å¯å¾—ï¼š
$$
\theta=2\arccos(s)
$$
æœ€åå°±æ˜¯è®¡ç®—æ—‹è½¬è½´ï¼Œå°†$\pmb{q}$çš„è™šéƒ¨å¸¦å…¥$\pmb{p}$çš„è™šéƒ¨ï¼Œå¯ä»¥å‘ç°ï¼š
$$
\pmb{p}=\pmb{q}\pmb{p}\pmb{q}
$$
å³$\pmb{q}$çš„è™šéƒ¨$[q_1,q_2,q_3]^T$æ—‹è½¬åä¸å˜ï¼Œå³ä¸ºæ—‹è½¬è½´ï¼Œå°†å½’ä¸€åŒ–å³å¯å¾—åˆ°æ—‹è½¬è½´ï¼Œå…¶æ¨¡é•¿ä¸º
$$
\sqrt{q_1^2+q_2^2+q_3^2}=\sqrt{1-s^2}=\sqrt{1-\cos^2\frac{\theta}{2}}=\sin\frac{\theta}{2}
$$


# å‚è€ƒæ–‡æ¡£

[å·¦æ‰‹åæ ‡ç³»å’Œå³æ‰‹åæ ‡ç³» - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/618692912)

[ä¸–ç•Œåæ ‡ç³»ï¼Œç›¸æœºåæ ‡ç³»ï¼Œå›¾åƒåæ ‡ç³»ï¼Œåƒç´ åæ ‡ç³» - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/281967460)

[ä»€ä¹ˆæ˜¯é½æ¬¡åæ ‡? - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/258437902)
