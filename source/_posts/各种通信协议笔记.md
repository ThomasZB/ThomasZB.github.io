---
title: 各种通信协议笔记
date: 2020-07-06 13:49:39
tags:
---
单片机学习过程中协议是非常重要的，这里先记录几个协议，后面可能会继续添加

---
## IIC协议
### 简介
一种半双工的通信方式，由数据线SDA和时钟线SCL构成。发送时高位在前低位在后，要确定IIC工作要确定下述条件：
* 空闲状态
* 开始状态
* 停止信号
* 应答信号
* 数据的有效性
* 数据的传送
### 协议状态条件
1. 空闲状态  
一般SDA和SCL都为高电平时为空闲状态，由上拉电阻拉高。
2. 起始信号与停止信号
    * 起始信号：SCL为高，SDA由高变低。
    * 终止信号：SCL为高，SDA由低变高。
    * 注：由上述可以看出，传输数据过程中，SCL为高电平时不要改变SDA状态。
3. 应答信号  
在传输完一个字节后，发送器释放数据总线（改变为上拉的接收模式）。判断接收器是否在下一个时钟发送一个低电平。  
ACK：下一个时钟时为低电平  
NACK：下一个时钟时为高电平
4. 数据的有效性  
有效的数据在高电平期间数据不会改变，如下图所示：
![](https://raw.githubusercontent.com/ThomasZB/picture/master/i2c_efficent.png)
5. 数据的传送
一个时钟周期传送1bit的数据

---
## SPI协议


